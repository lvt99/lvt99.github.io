---
layout:     post
title:      2021-07-26-实（ke）习（yan）
subtitle:   在搜狗学习实验室的东西
date:       2021-07-25
author:     Lv Tian
header-img: img/bkg.jpg
catalog: true
mathjax: true
tags:
    - 日记
    - 实习
    - 科研
--- 

## 科研——视差贴图（Parallax Mapping）

今天，我主要是根据 `OpenGL` 的教程学习了视差贴图，其原理在OpenGL中文教程中[高级光照](https://learnopengl-cn.github.io/05%20Advanced%20Lighting/05%20Parallax%20Mapping/)部分有所讲解。其原理在于，进行纹理映射的时候，需要引入一张额外的高度图。借助这一张高度图，可以在切线空间中计算出纹理坐标的偏移，从而产生物体凹凸的**视差**。这种渲染方式结合法线贴图，可以非常有效地增加纹理渲染结果的真实感。普通贴图、法线贴图与其的具体差异从左至右如下三图所示：

![](https://lvt99.github.io/img/tietu.jpg)

中途我主要遇到了以下问题，在学长的帮助下得到了解决：
- 高估了遮挡可能产生的偏移。因为视差贴图本身就是近似模型，因此可以容许一定误差。
- 对于pytorch3d掌握不熟，看了很长时间才明白应该如何自己实现 `一个ParallaxShader` 。

之后，自己会在近期将其实现完毕。

## 实习——调通CascadePSP

经过了一天的研究，我将之前 `PSPNet` 得到的粗分割结果只保留头发这一类，并且将粗分割结果转为二值图像（0、255），发现可以直接在模型中跑通。目前计划迭代450000轮，预计需要3天的时间。不过可能中间的模型就能达到很好的效果，最后也很可能是取其中的某一个模型进行最终效果的展示。目前模型的效果如下图所示，可以看出现在对于头发的细化分割效果做的非常好了，特别是戴花环的那一张照片，人工标注的结果将花环视为头发，**这是一个原始数据中的错误，而我的模型成功地将这个错误避开了**。

![](https://lvt99.github.io/img/shixi-epoch.png)

## 晚餐——牛肉丼

晚上，饿坏了就去五道口吃了经常去吃的熊吞大碗丼，还加了一个温泉蛋。

![](https://lvt99.github.io/img/dawandong.jpg)